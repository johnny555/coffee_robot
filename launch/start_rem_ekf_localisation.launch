<launch>

  <!-- Setup Fiducial Based localisation -->

  

  <!-- Setup LIDAR based localisation -->

  <node pkg="amcl" type="amcl" name="amcl">
    <param name="scan" value="scan" />
    <param name="tf_broadcast" value="false" />
  </node>


  <!-- Setup EKF Fusion -->


  <node name="global_ekf" pkg="robot_localization" type="ekf_localization_node" output="screen" >

    <param name="world_frame" value="map" />

    <param name="pose0" value="amcl_pose" />
    <param name="pose1" value="fiducial_pose" />
    <!-- <param name="odom0" value="odom" /> -->

    <param name="frequency" value="5" />
    <param name="sensor_timeout" value="1" />


    <param name="publish_tf" value="true" />

    <param name="two_d_mode" value="true" />

    <rosparam param="pose0_config">[true, true, true,
                                    true, true, true,
                                    true, true, true,
                                    true, true, true,
                                    true, true, true] </rosparam>

    <rosparam param="pose1_config">[true, true, true,
                                    true, true, true,
                                    true, true, true,
                                    true, true, true,
                                    true, true, true] </rosparam>

  </node>
<!--
  <node name="local_ekf" pkg="robot_localization" type="ekf_localization_node" output="screen" >

    <param name="world_frame" value="odom" />
    <param name="map_frame" value="" />
    <param name="base_link_frame" value="base_footprint" />

    <param name="odom0" value="odom" />
     <param name="odom0" value="odom" /> 

    <param name="frequency" value="5" />
    <param name="sensor_timeout" value="1" />

    <param name="publish_tf" value="true" />

    <param name="two_d_mode" value="true" />

    <rosparam param="odom0_config">[true,  true,  false,
                                false, false, true,
                                true,  false, false,
                                false, false, true,
                                false, false, false]</rosparam>
   
  </node>

-->


  <!-- Start the move base 

  <include file="$(find coffee_robot)/launch/move_base.launch" /> -->

</launch>
